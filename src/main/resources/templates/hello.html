<!DOCTYPE html>
<html lang="en">
<head>
  <title>My Community - Home</title>
  <meta charset="UTF-8">
<!--  <link rel="stylesheet" href="/css/styles.css">-->
  <!-- Bootstrap CSS -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet"/>
  <style>
    /* 추가적인 스타일을 원할 경우 여기에 작성 */
    body {
      padding-top: 70px;
    }
  </style>
</head>
<body>
<!-- 네비게이션 바 -->
<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
  <a class="navbar-brand" href="/">My Community</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNav">
    <!-- 좌측 메뉴 (필요 시 추가) -->
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="/hello">Home <span class="sr-only">(current)</span></a>
      </li>
      <!-- 추가 메뉴 항목 -->
    </ul>
    <!-- 우측 메뉴 -->
    <ul class="navbar-nav">
      <!-- 비인증 사용자에게만 표시 -->
      <li class="nav-item" id="registerNavItem">
        <a class="nav-link" href="/users/register">회원가입</a>
      </li>
      <li class="nav-item" id="loginNavItem">
        <a class="nav-link" href="/users/login">로그인</a>
      </li>
      <!-- 인증된 사용자에게만 표시 -->
      <li class="nav-item d-none" id="mypageNavItem">
        <a class="nav-link" href="/users/mypage">마이페이지</a>
      </li>
    </ul>
  </div>
</nav>

<!-- 메인 컨테이너 -->
<div class="container mt-4">
  <!-- 플래시 메시지 -->
  <div class="alert alert-success" role="alert" id="successMessage" style="display: none;">
    <p>성공 메시지가 여기에 표시됩니다.</p>
  </div>
  <div class="alert alert-danger" role="alert" id="errorMessage" style="display: none;">
    <p>오류 메시지가 여기에 표시됩니다.</p>
  </div>

  <!-- 게시판 탭 바 -->
  <ul class="nav nav-tabs" id="boardTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="tab-General" data-toggle="tab" href="#board-General" role="tab"
         aria-controls="board-General" aria-selected="true">General</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="tab-Announcements" data-toggle="tab" href="#board-Announcements" role="tab"
         aria-controls="board-Announcements" aria-selected="false">Announcements</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="tab-Feedback" data-toggle="tab" href="#board-Feedback" role="tab"
         aria-controls="board-Feedback" aria-selected="false">Feedback</a>
    </li>
    <!-- 추가 게시판 탭 -->
  </ul>
  <div class="tab-content" id="boardTabContent">
    <!-- General 게시판 -->
    <div class="tab-pane fade show active" id="board-General" role="tabpanel" aria-labelledby="tab-General">
      <h3 class="mt-3">게시판: General</h3>
      <!-- 최근 글 5개 -->
      <ul class="list-group mt-3">
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/General/1">Welcome to the General Board</a>
            <small>2024-04-25 10:30</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/General/2">Community Guidelines</a>
            <small>2024-04-24 09:15</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/General/3">Introduce Yourself</a>
            <small>2024-04-23 14:45</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/General/4">General Chat Thread</a>
            <small>2024-04-22 16:20</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/General/5">Upcoming Events</a>
            <small>2024-04-21 11:05</small>
          </div>
        </li>
      </ul>
    </div>
    <!-- Announcements 게시판 -->
    <div class="tab-pane fade" id="board-Announcements" role="tabpanel" aria-labelledby="tab-Announcements">
      <h3 class="mt-3">게시판: Announcements</h3>
      <!-- 최근 글 5개 -->
      <ul class="list-group mt-3">
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/Announcements/1">Site Maintenance Scheduled</a>
            <small>2024-04-20 08:00</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/Announcements/2">New Features Released</a>
            <small>2024-04-19 12:30</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/Announcements/3">Community Awards</a>
            <small>2024-04-18 15:45</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/Announcements/4">Welcome New Members</a>
            <small>2024-04-17 10:10</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/Announcements/5">Upcoming Webinars</a>
            <small>2024-04-16 09:25</small>
          </div>
        </li>
      </ul>
    </div>
    <!-- Feedback 게시판 -->
    <div class="tab-pane fade" id="board-Feedback" role="tabpanel" aria-labelledby="tab-Feedback">
      <h3 class="mt-3">게시판: Feedback</h3>
      <!-- 최근 글 5개 -->
      <ul class="list-group mt-3">
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/Feedback/1">Feature Request: Dark Mode</a>
            <small>2024-04-15 13:50</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/Feedback/2">Bug Report: Login Issues</a>
            <small>2024-04-14 16:30</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/Feedback/3">Suggestion: Improve UI</a>
            <small>2024-04-13 11:20</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/Feedback/4">Feedback: Great Community</a>
            <small>2024-04-12 14:40</small>
          </div>
        </li>
        <li class="list-group-item">
          <div class="d-flex justify-content-between align-items-center">
            <a href="/Feedback/5">Idea: New Board Categories</a>
            <small>2024-04-11 10:55</small>
          </div>
        </li>
      </ul>
    </div>
    <!-- 추가 게시판 탭 -->
  </div>
</div>

<!-- Bootstrap JS 및 종속성 -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script>
  // 사용자 인증 상태에 따라 네비게이션 바의 버튼을 표시/숨기는 스크립트
  // 실제 구현 시 서버에서 렌더링하거나, 클라이언트에서 인증 상태를 확인하여 처리해야 합니다.
  document.addEventListener("DOMContentLoaded", function() {
    var sessionUserId = null; // 실제 사용자 ID를 서버에서 전달받거나, 클라이언트에서 확인

    // 네비게이션 바 요소 가져오기
    var registerNavItem = document.getElementById('registerNavItem');
    var loginNavItem = document.getElementById('loginNavItem');
    var mypageNavItem = document.getElementById('mypageNavItem');

    if (sessionUserId) {
    // 인증된 사용자
      registerNavItem.classList.add('d-none');
      loginNavItem.classList.add('d-none');
      mypageNavItem.classList.remove('d-none');
    } else {
    // 비인증 사용자
      registerNavItem.classList.remove('d-none');
      loginNavItem.classList.remove('d-none');
      mypageNavItem.classList.add('d-none');
    }
  });
</script>
</body>
</html>